{
  "version": 3,
  "sources": ["../../app/netlify/functions/attendance-list.js"],
  "sourceRoot": "/tmp/tmp-18-Zi4D0rLDLLLx",
  "sourcesContent": ["// Get attendance list with filters\r\nexport async function handler(event, context) {\r\n  const headers = {\r\n    'Access-Control-Allow-Origin': '*',\r\n    'Access-Control-Allow-Headers': 'Content-Type',\r\n    'Access-Control-Allow-Methods': 'GET, OPTIONS',\r\n    'Content-Type': 'application/json'\r\n  }\r\n\r\n  if (event.httpMethod === 'OPTIONS') {\r\n    return {\r\n      statusCode: 200,\r\n      headers,\r\n      body: ''\r\n    }\r\n  }\r\n\r\n  if (event.httpMethod !== 'GET') {\r\n    return {\r\n      statusCode: 405,\r\n      headers,\r\n      body: JSON.stringify({ error: 'Method not allowed' })\r\n    }\r\n  }\r\n\r\n  try {\r\n    // Parse query parameters\r\n    const params = event.queryStringParameters || {}\r\n    const { date, location, personnelId, limit = 100 } = params\r\n\r\n    // Mock attendance data - replace with database query\r\n    const mockAttendances = [\r\n      {\r\n        id: '1',\r\n        personnelId: '1',\r\n        personnelName: 'Ahmet Y\u0131lmaz',\r\n        date: '2024-01-15',\r\n        checkIn: '2024-01-15T09:00:00',\r\n        checkOut: '2024-01-15T18:00:00',\r\n        hours: 9,\r\n        location: 'cengelkoy'\r\n      },\r\n      {\r\n        id: '2',\r\n        personnelId: '2',\r\n        personnelName: 'Ay\u015Fe Demir',\r\n        date: '2024-01-15',\r\n        checkIn: '2024-01-15T08:30:00',\r\n        checkOut: '2024-01-15T17:30:00',\r\n        hours: 9,\r\n        location: 'cengelkoy'\r\n      },\r\n      {\r\n        id: '3',\r\n        personnelId: '3',\r\n        personnelName: 'Mehmet Kaya',\r\n        date: '2024-01-15',\r\n        checkIn: '2024-01-15T10:00:00',\r\n        checkOut: '2024-01-15T19:00:00',\r\n        hours: 9,\r\n        location: 'kadikoy'\r\n      },\r\n      {\r\n        id: '4',\r\n        personnelId: '4',\r\n        personnelName: 'Fatma \u00D6z',\r\n        date: '2024-01-15',\r\n        checkIn: '2024-01-15T09:15:00',\r\n        checkOut: null,\r\n        hours: 0,\r\n        location: 'besiktas'\r\n      }\r\n    ]\r\n\r\n    // Apply filters\r\n    let filtered = mockAttendances\r\n    \r\n    if (date) {\r\n      filtered = filtered.filter(a => a.date === date)\r\n    }\r\n    \r\n    if (location) {\r\n      filtered = filtered.filter(a => a.location === location)\r\n    }\r\n    \r\n    if (personnelId) {\r\n      filtered = filtered.filter(a => a.personnelId === personnelId)\r\n    }\r\n\r\n    // Apply limit\r\n    filtered = filtered.slice(0, parseInt(limit))\r\n\r\n    return {\r\n      statusCode: 200,\r\n      headers,\r\n      body: JSON.stringify({\r\n        success: true,\r\n        attendances: filtered,\r\n        total: filtered.length\r\n      })\r\n    }\r\n  } catch (error) {\r\n    return {\r\n      statusCode: 500,\r\n      headers,\r\n      body: JSON.stringify({\r\n        success: false,\r\n        error: 'Internal server error'\r\n      })\r\n    }\r\n  }\r\n}\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AACA,eAAsB,QAAQ,OAAO,SAAS;AAC5C,QAAM,UAAU;AAAA,IACd,+BAA+B;AAAA,IAC/B,gCAAgC;AAAA,IAChC,gCAAgC;AAAA,IAChC,gBAAgB;AAAA,EAClB;AAEA,MAAI,MAAM,eAAe,WAAW;AAClC,WAAO;AAAA,MACL,YAAY;AAAA,MACZ;AAAA,MACA,MAAM;AAAA,IACR;AAAA,EACF;AAEA,MAAI,MAAM,eAAe,OAAO;AAC9B,WAAO;AAAA,MACL,YAAY;AAAA,MACZ;AAAA,MACA,MAAM,KAAK,UAAU,EAAE,OAAO,qBAAqB,CAAC;AAAA,IACtD;AAAA,EACF;AAEA,MAAI;AAEF,UAAM,SAAS,MAAM,yBAAyB,CAAC;AAC/C,UAAM,EAAE,MAAM,UAAU,aAAa,QAAQ,IAAI,IAAI;AAGrD,UAAM,kBAAkB;AAAA,MACtB;AAAA,QACE,IAAI;AAAA,QACJ,aAAa;AAAA,QACb,eAAe;AAAA,QACf,MAAM;AAAA,QACN,SAAS;AAAA,QACT,UAAU;AAAA,QACV,OAAO;AAAA,QACP,UAAU;AAAA,MACZ;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,aAAa;AAAA,QACb,eAAe;AAAA,QACf,MAAM;AAAA,QACN,SAAS;AAAA,QACT,UAAU;AAAA,QACV,OAAO;AAAA,QACP,UAAU;AAAA,MACZ;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,aAAa;AAAA,QACb,eAAe;AAAA,QACf,MAAM;AAAA,QACN,SAAS;AAAA,QACT,UAAU;AAAA,QACV,OAAO;AAAA,QACP,UAAU;AAAA,MACZ;AAAA,MACA;AAAA,QACE,IAAI;AAAA,QACJ,aAAa;AAAA,QACb,eAAe;AAAA,QACf,MAAM;AAAA,QACN,SAAS;AAAA,QACT,UAAU;AAAA,QACV,OAAO;AAAA,QACP,UAAU;AAAA,MACZ;AAAA,IACF;AAGA,QAAI,WAAW;AAEf,QAAI,MAAM;AACR,iBAAW,SAAS,OAAO,OAAK,EAAE,SAAS,IAAI;AAAA,IACjD;AAEA,QAAI,UAAU;AACZ,iBAAW,SAAS,OAAO,OAAK,EAAE,aAAa,QAAQ;AAAA,IACzD;AAEA,QAAI,aAAa;AACf,iBAAW,SAAS,OAAO,OAAK,EAAE,gBAAgB,WAAW;AAAA,IAC/D;AAGA,eAAW,SAAS,MAAM,GAAG,SAAS,KAAK,CAAC;AAE5C,WAAO;AAAA,MACL,YAAY;AAAA,MACZ;AAAA,MACA,MAAM,KAAK,UAAU;AAAA,QACnB,SAAS;AAAA,QACT,aAAa;AAAA,QACb,OAAO,SAAS;AAAA,MAClB,CAAC;AAAA,IACH;AAAA,EACF,SAAS,OAAO;AACd,WAAO;AAAA,MACL,YAAY;AAAA,MACZ;AAAA,MACA,MAAM,KAAK,UAAU;AAAA,QACnB,SAAS;AAAA,QACT,OAAO;AAAA,MACT,CAAC;AAAA,IACH;AAAA,EACF;AACF;",
  "names": []
}
